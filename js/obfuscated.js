var _0x4324=['mapboxgl-popup','log','iconSize','setTimeout','Feature','location','btn\x20btn-light','click','setLngLat','catch','addTo','remove','name','properties','first','pk.eyJ1Ijoic3V6dTAiLCJhIjoiY2thZHM4ZmZ2MDFwNDJ5dGU3YTgwY2N2ayJ9.n96QuUhk0Tbhb69iHd3gzw','map','last','backgroundImage','longitude','Map','scrollIntoView','getElementsByClassName','features','createElement','className','latitude','length','appendChild','Marker','getElementById','mapbox://styles/mapbox/streets-v11','div','d-none','height','innerHTML','https://placekitten.com/g/60','addEventListener','forEach','url(','center','main','spinner','picture','flyTo','friends-','smooth','friend-list','sort','img','btn\x20btn-warning','icon\x20p-2','<div\x20class=\x22name\x22><h5>','accessToken','<div\x20class=\x22email\x22><a\x20href=\x22mailto:','start','#friend-list\x20>\x20div','m-1\x20d-block\x20justify-content-center','style','</div>','button','No\x20email\x20provided','marker\x20border\x20shadow','Popup','geometry','children','email','FeatureCollection','coordinates','</a>'];(function(_0x1fd00b,_0x432439){var _0x59214e=function(_0x445cde){while(--_0x445cde){_0x1fd00b['push'](_0x1fd00b['shift']());}};_0x59214e(++_0x432439);}(_0x4324,0xe9));var _0x5921=function(_0x1fd00b,_0x432439){_0x1fd00b=_0x1fd00b-0x0;var _0x59214e=_0x4324[_0x1fd00b];return _0x59214e;};document[_0x5921('0xe')]('DOMContentLoaded',function(){init();fetchData();});var loaded=![];var map;var friends={'type':_0x5921('0x2c'),'features':[]};var iconSize=[0x3c,0x3c];function init(){if(loaded==![]){window[_0x5921('0x32')](init,0x64);}else{var _0x5780b4=document[_0x5921('0x7')](_0x5921('0x13'));_0x5780b4[_0x5921('0x3a')]();var _0x1b509a=document[_0x5921('0x7')](_0x5921('0x12'));_0x1b509a['classList'][_0x5921('0x3a')](_0x5921('0xa'));initMap();initFriendsList();addMarkers();};};function fetchData(){const _0x1eaf0f='https://next.json-generator.com/api/json/get/41P1_UhSI';fetch(_0x1eaf0f)['then'](_0x30d509=>_0x30d509['json']())['then'](_0x35ea96=>{_0x35ea96[_0x5921('0x19')]((_0x122055,_0x542c60)=>{return _0x122055['name'][_0x5921('0x3d')]>_0x542c60[_0x5921('0x3b')][_0x5921('0x3d')];});for(var _0x20a639=0x0;_0x20a639<_0x35ea96[_0x5921('0x4')];_0x20a639++){convert(_0x35ea96[_0x20a639]);}loaded=!![];})[_0x5921('0x38')](_0x2876ef=>{console[_0x5921('0x30')](_0x2876ef);});};function initMap(){mapboxgl[_0x5921('0x1e')]=_0x5921('0x3e');map=new mapboxgl[(_0x5921('0x43'))]({'container':_0x5921('0x3f'),'style':_0x5921('0x8'),'center':[114.1535941,22.3700556],'zoom':0xa});map['addControl'](new mapboxgl['NavigationControl']());};function initFriendsList(){const _0x1bdb47=document[_0x5921('0x7')](_0x5921('0x18'));friends[_0x5921('0x0')][_0x5921('0xf')](_0x59901d=>{var _0x21e2d3=document[_0x5921('0x1')]('div');_0x21e2d3['id']=_0x5921('0x16')+_0x59901d[_0x5921('0x3c')]['id'];_0x21e2d3[_0x5921('0x2')]=_0x5921('0x22');var _0xe18b15=document['createElement'](_0x5921('0x1a'));_0xe18b15['src']=_0x59901d[_0x5921('0x3c')]['picture'];_0xe18b15[_0x5921('0x2')]=_0x5921('0x1c');var _0x59042f=document[_0x5921('0x1')](_0x5921('0x25'));_0x59042f[_0x5921('0x2')]=_0x5921('0x35');_0x59042f[_0x5921('0xc')]=_0x59901d[_0x5921('0x3c')][_0x5921('0x3b')][_0x5921('0x3d')]+'\x20'+_0x59901d[_0x5921('0x3c')][_0x5921('0x3b')][_0x5921('0x40')];_0x59042f['addEventListener'](_0x5921('0x36'),function(_0x19dbc1){click(_0x59901d);});_0x21e2d3[_0x5921('0x5')](_0xe18b15);_0x21e2d3['appendChild'](_0x59042f);_0x1bdb47[_0x5921('0x5')](_0x21e2d3);});};function convert(_0x577e7a){if(!_0x577e7a[_0x5921('0x34')][_0x5921('0x42')]||!_0x577e7a[_0x5921('0x34')]['latitude']){return;}var _0x2ea40d={'type':_0x5921('0x33'),'properties':{'id':_0x577e7a['_id'],'picture':_0x577e7a[_0x5921('0x14')]||_0x5921('0xd'),'name':{'first':_0x577e7a['name'][_0x5921('0x3d')],'last':_0x577e7a[_0x5921('0x3b')][_0x5921('0x40')]},'email':_0x577e7a['email']||_0x5921('0x26'),'iconSize':iconSize},'geometry':{'type':'Point','coordinates':[_0x577e7a[_0x5921('0x34')][_0x5921('0x42')],_0x577e7a[_0x5921('0x34')][_0x5921('0x3')]]}};friends[_0x5921('0x0')]['push'](_0x2ea40d);};function addMarkers(){friends[_0x5921('0x0')][_0x5921('0xf')](_0x401dd1=>{let _0x32c188=_0x401dd1[_0x5921('0x3c')];var _0x356cf1=document[_0x5921('0x1')](_0x5921('0x9'));_0x356cf1['id']=_0x32c188['id'];_0x356cf1[_0x5921('0x2')]=_0x5921('0x27');_0x356cf1[_0x5921('0x23')][_0x5921('0x41')]=_0x5921('0x10')+_0x32c188[_0x5921('0x14')]+')';_0x356cf1[_0x5921('0x23')]['width']=_0x32c188[_0x5921('0x31')][0x0]+'px';_0x356cf1[_0x5921('0x23')][_0x5921('0xb')]=_0x32c188[_0x5921('0x31')][0x1]+'px';new mapboxgl[(_0x5921('0x6'))](_0x356cf1)[_0x5921('0x37')](_0x401dd1[_0x5921('0x29')][_0x5921('0x2d')])[_0x5921('0x39')](map);_0x356cf1[_0x5921('0xe')](_0x5921('0x36'),function(_0xde7306){click(_0x401dd1);});});};function click(_0x4733a8){navigate(_0x4733a8);highlight(_0x4733a8);displayPopup(_0x4733a8);}function navigate(_0x4b0fcf){map[_0x5921('0x15')]({'center':_0x4b0fcf['geometry'][_0x5921('0x2d')],'zoom':0xc});};function highlight(_0x417935){var _0x3252c3=document['querySelectorAll'](_0x5921('0x21'));for(var _0x1c45ab=0x0;_0x1c45ab<_0x3252c3[_0x5921('0x4')];_0x1c45ab++){var _0x360135=_0x3252c3[_0x1c45ab][_0x5921('0x2a')][0x1];if(_0x3252c3[_0x1c45ab]['id']===_0x5921('0x16')+_0x417935['properties']['id']){_0x360135[_0x5921('0x2')]=_0x5921('0x1b');_0x360135[_0x5921('0x44')]({'behavior':_0x5921('0x17'),'block':_0x5921('0x11'),'inline':_0x5921('0x20')});}else{_0x360135[_0x5921('0x2')]=_0x5921('0x35');}};};function displayPopup(_0x23d58b){var _0x577473=document[_0x5921('0x45')](_0x5921('0x2f'));if(_0x577473[0x0]){_0x577473[0x0][_0x5921('0x3a')]();}var _0x1aa725=_0x23d58b[_0x5921('0x3c')];new mapboxgl[(_0x5921('0x28'))]({'offset':0x19,'closeOnClick':![]})['setLngLat'](_0x23d58b['geometry'][_0x5921('0x2d')])['setHTML'](_0x5921('0x1d')+_0x1aa725['name'][_0x5921('0x3d')]+'\x20'+_0x1aa725[_0x5921('0x3b')]['last']+'</h5></div>'+_0x5921('0x1f')+_0x1aa725[_0x5921('0x2b')]+'\x22>'+_0x1aa725[_0x5921('0x2b')]+_0x5921('0x2e')+_0x5921('0x24'))[_0x5921('0x39')](map);};